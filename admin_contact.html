<!DOCTYPE html>
<html lang="zh-tw">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

	<!--css-->
	<link href="css/bootstrap.css" rel="stylesheet">
	<link href="css/global.css" rel="stylesheet">

	<!--vue-->
	<script src="js/vue.js"></script>
	<script src="js/jquery.min.js"></script>
	<script src="js/axios.js"></script>
	<script src="js/semantic.js"></script>
	<link href="css/semantic.css" rel="stylesheet">
	<link href="css/admin.css" rel="stylesheet">
</head>
<body class="season2">
<div id="vue">

<template v-for="img in images">
	<img v-if="img.image" :src="img.src" style="height: 100px; vertical-align: baseline">
	<video v-if="img.video" :src="img.src" style="height: 100px">
</template>
<div>
<label for="file" class="ui button">上傳</label>
<input id="file" type="file" style="visibility: hidden" @change="upload($event)">
</div>

<!--
<select v-model="select" @change="add()">
  <option value="">請選人</option>
  <option v-for="(t,i) in traders" :value="i" v-text="t.name"></option>
</select>
<div class="ui sub header">Selection</div>
<select v-model="names" multiple="" class="ui fluid normal dropdown">
  <option value="">Skills</option>
<option v-for="t in traders" :value="t.id" v-text="t.name"></option>
-->

<div class="ui floating multiple dropdown search normal selection">
  <input type="hidden" id="names" name="country" v-model.lazy="select" @change="changed">
  <i class="dropdown icon"></i>
  <div class="default text">請選人</div>
  <div class="menu">
    <div class="item" v-for="(t,i) in traders" v-bind:data-value="i"><span v-text="t.name"></span></div>
  </div>
</div>

</div>

<script>

var data = {
	select: 0,
	traders: [],
  contacts: [],
	images: [],
	videos: [],
	files: null,
};

//data//

var vue = new Vue({el: '#vue', data: data, methods: {
	upload: function (e) {
		var file = e.target.files[0];
		if (!/^(image|video)/.test(file.type)) {
			alert('請上傳圖檔或影片');
			e.target.value = '';
		}
		console.log(file);
		var reader = new FileReader();
		reader.onload = function (e) {
			file.src = e.target.result;
			if (/^image/.test(file.type))
				file.image = true;
			else
				file.video = true;
			data.images.push(file);
		}
		reader.readAsDataURL(e.target.files[0]);
		e.target.value = '';
	},
}});

$('.ui.dropdown').dropdown();

</script>

</body>
</html>
